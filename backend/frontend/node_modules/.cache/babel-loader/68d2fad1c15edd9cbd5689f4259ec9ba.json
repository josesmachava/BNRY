{"ast":null,"code":"import _slicedToArray from \"/home/josemachava/Documents/learn/MERN/photos/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/josemachava/Documents/learn/MERN/photos/backend/frontend/src/components/photo-list.component.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Navegation from './navegation.component';\n\nconst PhotoList = props => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        showLoading = _useState4[0],\n        setShowLoading = _useState4[1];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await axios('http://localhost:5001');\n      setData(result.data);\n      setShowLoading(false);\n    };\n\n    fetchData();\n  }, []);\n\n  const deletePhoto = id => {\n    setShowLoading(true);\n    axios.delete('http://localhost:5001/' + id).then(result => {\n      setShowLoading(false);\n      props.history.push('/list');\n    }).catch(error => setShowLoading(false));\n    ;\n  };\n\n  const editProduct = id => {\n    props.history.push({\n      pathname: '/edit/' + id\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Navegation, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-md-10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, showLoading > React.createElement(\"span\", {\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Loading...\"), React.createElement(\"table\", {\n    class: \"table table-striped\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"#\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"url\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"description\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, data.map(photo => React.createElement(\"tr\", {\n    key: photo._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, photo._id), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, photo.url), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, photo.description), React.createElement(\"td\", {\n    onClick: () => {\n      deletePhoto(photo._id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"   delete\"), React.createElement(\"td\", {\n    onClick: () => {\n      deletePhoto(photo._id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"   edit\"))))))));\n};\n\nexport default PhotoList;","map":{"version":3,"sources":["/home/josemachava/Documents/learn/MERN/photos/backend/frontend/src/components/photo-list.component.js"],"names":["React","useState","useEffect","axios","Navegation","PhotoList","props","data","setData","showLoading","setShowLoading","fetchData","result","deletePhoto","id","delete","then","history","push","catch","error","editProduct","pathname","map","photo","_id","url","description"],"mappings":"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","sourcesContent":["\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Navegation from './navegation.component';\n\n\nconst PhotoList = (props) => {\n    const [data, setData] = useState([]);\n    const [showLoading, setShowLoading] = useState(true);\n  \n    useEffect(() => {\n      const fetchData = async () => {\n        const result = await axios(\n          'http://localhost:5001',\n        );\n        setData(result.data);\n        setShowLoading(false);\n      };\n      fetchData();\n    }, []);\n\n    const deletePhoto = (id) => {\n     setShowLoading(true);\n      axios.delete('http://localhost:5001/'+id)\n        .then((result) => {\n          setShowLoading(false);\n          props.history.push('/list')\n        }).catch((error) => setShowLoading(false));;\n    };\n\n    const editProduct = (id) => {\n      props.history.push({\n        pathname: '/edit/' + id\n      });\n    };\n  \n    return (\n         \n       <div className=\"container-fluid\">\n       <div className=\"row\">\n       <div className=\"col-md-2\">\n            <Navegation />\n       </div>\n       <div className=\"col-md-10\">\n       {showLoading >\n        <span className=\"sr-only\">Loading...</span>\n       }\n       <table class=\"table table-striped\">\n       <thead>\n         <tr>\n           <th scope=\"col\">#</th>\n           <th scope=\"col\">url</th>\n           <th scope=\"col\">description</th>\n         </tr>\n       </thead>\n       <tbody>\n       {data.map(photo => (\n         <tr key={photo._id}>\n         <th scope=\"row\">{photo._id}</th>\n         <td>{photo.url}</td> \n         <td>{photo.description}</td>\n         <td  onClick={() => { deletePhoto(photo._id) }}>   delete</td>\n         <td  onClick={() => { deletePhoto(photo._id) }}>   edit</td>\n     \n         </tr>\n     \n     ))}\n     \n     \n       </tbody>\n     </table>\n       \n     </div>\n       </div> \n\n        \n\n    \n        \n        </div>\n    \n    );\n  }\nexport default PhotoList;"]},"metadata":{},"sourceType":"module"}