{"ast":null,"code":"import _regeneratorRuntime from\"/home/josemachava/Documents/learn/MERN/photos/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/josemachava/Documents/learn/MERN/photos/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/josemachava/Documents/learn/MERN/photos/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import Navegation from'./navegation.component';var PhotoList=function PhotoList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),showLoading=_useState4[0],setShowLoading=_useState4[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios('http://5001');case 2:result=_context.sent;setData(result.data);setShowLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var deletePhoto=function deletePhoto(id){setShowLoading(true);axios.delete('http://localhost:5001/'+id).then(function(result){setShowLoading(false);props.history.push('/list');}).catch(function(error){return setShowLoading(false);});;};var EditPhoto=function EditPhoto(id){props.history.push({pathname:'/edit/'+id});};return React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-2\"},React.createElement(Navegation,null)),React.createElement(\"div\",{className:\"col-md-10\"},showLoading>React.createElement(\"span\",{className:\"sr-only\"},\"Loading...\"),React.createElement(\"table\",{class:\"table table-striped\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{scope:\"col\"},\"#\"),React.createElement(\"th\",{scope:\"col\"},\"url\"),React.createElement(\"th\",{scope:\"col\"},\"description\"))),React.createElement(\"tbody\",null,data.map(function(photo){return React.createElement(\"tr\",{key:photo._id},React.createElement(\"th\",{scope:\"row\"},photo._id),React.createElement(\"td\",null,photo.url),React.createElement(\"td\",null,photo.description),React.createElement(\"td\",{onClick:function onClick(){deletePhoto(photo._id);}},\"   \",React.createElement(\"i\",{class:\"fa fa-trash\",\"aria-hidden\":\"true\"})),React.createElement(\"td\",{onClick:function onClick(){EditPhoto(photo._id);}},\" \",React.createElement(\"i\",{class:\"fa fa-pencil\",\"aria-hidden\":\"true\"})));}))))));};export default PhotoList;","map":{"version":3,"sources":["/home/josemachava/Documents/learn/MERN/photos/backend/frontend/src/components/photo-list.component.js"],"names":["React","useState","useEffect","axios","Navegation","PhotoList","props","data","setData","showLoading","setShowLoading","fetchData","result","deletePhoto","id","delete","then","history","push","catch","error","EditPhoto","pathname","map","photo","_id","url","description"],"mappings":"4hBAEA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,wBAAvB,CAGA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,eACDL,QAAQ,CAAC,EAAD,CADP,wCAClBM,IADkB,eACZC,OADY,8BAEaP,QAAQ,CAAC,IAAD,CAFrB,yCAElBQ,WAFkB,eAELC,cAFK,eAIzBR,SAAS,CAAC,UAAM,CACd,GAAMS,CAAAA,SAAS,0FAAG,oKACKR,CAAAA,KAAK,CACxB,aADwB,CADV,QACVS,MADU,eAIhBJ,OAAO,CAACI,MAAM,CAACL,IAAR,CAAP,CACAG,cAAc,CAAC,KAAD,CAAd,CALgB,sDAAH,kBAATC,CAAAA,SAAS,0CAAf,CAOAA,SAAS,GACV,CATQ,CASN,EATM,CAAT,CAWA,GAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,EAAD,CAAQ,CAC3BJ,cAAc,CAAC,IAAD,CAAd,CACCP,KAAK,CAACY,MAAN,CAAa,yBAAyBD,EAAtC,EACGE,IADH,CACQ,SAACJ,MAAD,CAAY,CAChBF,cAAc,CAAC,KAAD,CAAd,CACAJ,KAAK,CAACW,OAAN,CAAcC,IAAd,CAAmB,OAAnB,EACD,CAJH,EAIKC,KAJL,CAIW,SAACC,KAAD,QAAWV,CAAAA,cAAc,CAAC,KAAD,CAAzB,EAJX,EAI6C,CAC9C,CAPD,CASA,GAAMW,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACP,EAAD,CAAQ,CACxBR,KAAK,CAACW,OAAN,CAAcC,IAAd,CAAmB,CACjBI,QAAQ,CAAE,SAAWR,EADJ,CAAnB,EAGD,CAJD,CAMA,MAEG,4BAAK,SAAS,CAAC,iBAAf,EACA,2BAAK,SAAS,CAAC,KAAf,EACA,2BAAK,SAAS,CAAC,UAAf,EACK,oBAAC,UAAD,MADL,CADA,CAIA,2BAAK,SAAS,CAAC,WAAf,EACCL,WAAW,CACX,4BAAM,SAAS,CAAC,SAAhB,eAFD,CAIA,6BAAO,KAAK,CAAC,qBAAb,EACA,iCACE,8BACE,0BAAI,KAAK,CAAC,KAAV,MADF,CAEE,0BAAI,KAAK,CAAC,KAAV,QAFF,CAGE,0BAAI,KAAK,CAAC,KAAV,gBAHF,CADF,CADA,CAQA,iCACCF,IAAI,CAACgB,GAAL,CAAS,SAAAC,KAAK,QACb,2BAAI,GAAG,CAAEA,KAAK,CAACC,GAAf,EACA,0BAAI,KAAK,CAAC,KAAV,EAAiBD,KAAK,CAACC,GAAvB,CADA,CAEA,8BAAKD,KAAK,CAACE,GAAX,CAFA,CAGA,8BAAKF,KAAK,CAACG,WAAX,CAHA,CAIA,0BAAK,OAAO,CAAE,kBAAM,CAAEd,WAAW,CAACW,KAAK,CAACC,GAAP,CAAX,CAAwB,CAA9C,QAAmD,yBAAG,KAAK,CAAC,aAAT,CAAuB,cAAY,MAAnC,EAAnD,CAJA,CAKA,0BAAK,OAAO,CAAE,kBAAM,CAAEJ,SAAS,CAACG,KAAK,CAACC,GAAP,CAAT,CAAsB,CAA5C,MAA+C,yBAAG,KAAK,CAAC,cAAT,CAAwB,cAAY,MAApC,EAA/C,CALA,CADa,EAAd,CADD,CARA,CAJA,CAJA,CADA,CAFH,CA8CD,CA5EH,CA6EA,cAAepB,CAAAA,SAAf","sourcesContent":["\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Navegation from './navegation.component';\n\n\nconst PhotoList = (props) => {\n    const [data, setData] = useState([]);\n    const [showLoading, setShowLoading] = useState(true);\n  \n    useEffect(() => {\n      const fetchData = async () => {\n        const result = await axios(\n          'http://5001',\n        );\n        setData(result.data);\n        setShowLoading(false);\n      };\n      fetchData();\n    }, []);\n\n    const deletePhoto = (id) => {\n     setShowLoading(true);\n      axios.delete('http://localhost:5001/'+id)\n        .then((result) => {\n          setShowLoading(false);\n          props.history.push('/list')\n        }).catch((error) => setShowLoading(false));;\n    };\n\n    const EditPhoto = (id) => {\n      props.history.push({\n        pathname: '/edit/' + id\n      });\n    };\n  \n    return (\n         \n       <div className=\"container-fluid\">\n       <div className=\"row\">\n       <div className=\"col-md-2\">\n            <Navegation />\n       </div>\n       <div className=\"col-md-10\">\n       {showLoading >\n        <span className=\"sr-only\">Loading...</span>\n       }\n       <table class=\"table table-striped\">\n       <thead>\n         <tr>\n           <th scope=\"col\">#</th>\n           <th scope=\"col\">url</th>\n           <th scope=\"col\">description</th>\n         </tr>\n       </thead>\n       <tbody>\n       {data.map(photo => (\n         <tr key={photo._id}>\n         <th scope=\"row\">{photo._id}</th>\n         <td>{photo.url}</td> \n         <td>{photo.description}</td>\n         <td  onClick={() => { deletePhoto(photo._id) }}>   <i class=\"fa fa-trash\" aria-hidden=\"true\"></i></td>\n         <td  onClick={() => { EditPhoto(photo._id) }}> <i class=\"fa fa-pencil\" aria-hidden=\"true\"></i></td>\n     \n         </tr>\n     \n     ))}\n     \n     \n       </tbody>\n     </table>\n       \n     </div>\n       </div> \n\n        \n\n    \n        \n        </div>\n    \n    );\n  }\nexport default PhotoList;"]},"metadata":{},"sourceType":"module"}